{"version":3,"sources":["../src/app/services/socket-service.ts"],"names":[],"mappings":";AAEA,wCAAuC;AAIvC;IAKI,iDAAiD;IACjD,kCAAkC;IAElC;QAAA,iBAUC;QAjBO,QAAG,GAAG,uBAAuB,CAAC;QAE9B,cAAS,GAAiB,IAAI,iBAAO,EAAE,CAAC;QAM5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,UAAC,QAAQ,EAAE,GAAG;YACzC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,UAAA,EAAE,GAAG,KAAA,EAAE,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QACH,6CAA6C;QAC7C,qCAAqC;QACrC,gCAAgC;QAChC,MAAM;IACV,CAAC;IAED,mCAAW,GAAX,UAAY,GAAG;QACX,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YACtC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAED,iCAAS,GAAT,UAAU,IAAsB;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACL,oBAAC;AAAD,CAnCA,AAmCC,IAAA;AAnCY,sCAAa","file":"socket-service.js","sourcesContent":["import { Message } from '../models/message';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { LoginCredentials } from '../models/login';\r\ndeclare var io:any;\r\n\r\nexport class SocketService {\r\n    private url = 'http://localhost:3000';\r\n    private socket;\r\n    private _messages: Subject<any> = new Subject();\r\n    public messages: Observable<any>;\r\n    // private _alerts: Subject<any> = new Subject();\r\n    // public alerts: Observable<any>;\r\n\r\n    constructor() {\r\n        this.messages = this._messages.asObservable();\r\n        this.socket = io(this.url);\r\n        this.socket.on('chat message', (username, msg) => {\r\n            this._messages.next({ username, msg });\r\n        });\r\n        // this.alerts = this._alerts.asObservable();\r\n        // this.socket.on('alert', (msg) => {\r\n        //     this._alerts.next({msg});\r\n        // });\r\n    }\r\n\r\n    sendMessage(msg): boolean {\r\n        if (this.socket !== null) {\r\n            this.socket.emit('chat message', msg);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    sendLogin(data: LoginCredentials): boolean {\r\n        if (this.socket !== null) {\r\n            this.socket.emit('login', data);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n"]}